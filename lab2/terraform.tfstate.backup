{
  "version": 4,
  "terraform_version": "1.13.3",
  "serial": 8,
  "lineage": "b8625e35-fe0f-d883-18f5-77814defffdb",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "azuread_group",
      "name": "lab_admins",
      "provider": "provider[\"registry.terraform.io/hashicorp/azuread\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "assignable_to_role": false,
            "auto_subscribe_new_members": false,
            "behaviors": [],
            "description": "Administrators that manage the IT lab",
            "display_name": "IT Lab Administrators",
            "dynamic_membership": [],
            "external_senders_allowed": false,
            "hide_from_address_lists": false,
            "hide_from_outlook_clients": false,
            "id": "913cd48c-1ab8-44f3-b653-3cb84802ffb9",
            "include_transitive_members": false,
            "mail": "",
            "mail_enabled": false,
            "mail_nickname": "cdc82e59-1",
            "members": [
              "8e532fae-b59c-4213-b8ed-1f63b45cbab2"
            ],
            "object_id": "913cd48c-1ab8-44f3-b653-3cb84802ffb9",
            "onpremises_domain_name": "",
            "onpremises_group_type": "",
            "onpremises_netbios_name": "",
            "onpremises_sam_account_name": "",
            "onpremises_security_identifier": "",
            "onpremises_sync_enabled": false,
            "owners": [
              "e6950485-63cd-44d2-8b6f-91b15cc184ab"
            ],
            "preferred_language": "",
            "provisioning_options": [],
            "proxy_addresses": [],
            "security_enabled": true,
            "theme": "",
            "timeouts": null,
            "types": [],
            "visibility": "",
            "writeback_enabled": false
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "azurerm_subscription",
      "name": "primary",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "display_name": "Azure subscription 1",
            "id": "/subscriptions/76b69a8b-4e03-4cfd-8ee5-fcb614839f69",
            "location_placement_id": "Public_2014-09-01",
            "quota_id": "FreeTrial_2014-09-01",
            "spending_limit": "On",
            "state": "Enabled",
            "subscription_id": "76b69a8b-4e03-4cfd-8ee5-fcb614839f69",
            "tags": {},
            "tenant_id": "4db21f94-c4cc-48e0-84e1-c588f71cceb2",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_management_group",
      "name": "lab_mg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "display_name": "AZ104 Management Group",
            "id": "/providers/Microsoft.Management/managementGroups/az104-mg1",
            "name": "az104-mg1",
            "parent_management_group_id": "/providers/Microsoft.Management/managementGroups/4db21f94-c4cc-48e0-84e1-c588f71cceb2",
            "subscription_ids": [],
            "tenant_scoped_id": "/tenants/4db21f94-c4cc-48e0-84e1-c588f71cceb2/providers/Microsoft.Management/managementGroups/az104-mg1",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "lab_rg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/76b69a8b-4e03-4cfd-8ee5-fcb614839f69/resourceGroups/az104-02a-rg1",
            "location": "westeurope",
            "managed_by": "",
            "name": "az104-02a-rg1",
            "tags": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_role_assignment",
      "name": "lab_role_assignment",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/76b69a8b-4e03-4cfd-8ee5-fcb614839f69/resourceGroups/az104-02a-rg1/providers/Microsoft.Authorization/roleAssignments/c450fa61-1da8-59d0-48b5-978d12b0454d",
            "name": "c450fa61-1da8-59d0-48b5-978d12b0454d",
            "principal_id": "913cd48c-1ab8-44f3-b653-3cb84802ffb9",
            "principal_type": "Group",
            "role_definition_id": "/subscriptions/76b69a8b-4e03-4cfd-8ee5-fcb614839f69/providers/Microsoft.Authorization/roleDefinitions/c331e83d-5122-bf5a-f160-38783fb708ae",
            "role_definition_name": "Virtual Machine Operator",
            "scope": "/subscriptions/76b69a8b-4e03-4cfd-8ee5-fcb614839f69/resourceGroups/az104-02a-rg1",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_resource_group.lab_rg",
            "azurerm_role_definition.vm_operator_custom",
            "data.azuread_group.lab_admins",
            "data.azurerm_subscription.primary"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_role_definition",
      "name": "vm_operator_custom",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "assignable_scopes": [
              "/subscriptions/76b69a8b-4e03-4cfd-8ee5-fcb614839f69"
            ],
            "description": "Allows to create and manage virtual machines.",
            "id": "/subscriptions/76b69a8b-4e03-4cfd-8ee5-fcb614839f69/providers/Microsoft.Authorization/roleDefinitions/c331e83d-5122-bf5a-f160-38783fb708ae|/subscriptions/76b69a8b-4e03-4cfd-8ee5-fcb614839f69",
            "name": "Virtual Machine Operator",
            "permissions": [
              {
                "actions": [
                  "Microsoft.Storage/storageAccounts/read",
                  "Microsoft.Storage/storageAccounts/listKeys/action",
                  "Microsoft.Network/virtualNetworks/subnets/join/action",
                  "Microsoft.Network/networkInterfaces/read",
                  "Microsoft.Network/networkInterfaces/write",
                  "Microsoft.Network/networkSecurityGroups/join/action",
                  "Microsoft.Compute/virtualMachines/read",
                  "Microsoft.Compute/virtualMachines/write",
                  "Microsoft.Resources/subscriptions/resourceGroups/read"
                ],
                "data_actions": null,
                "not_actions": [],
                "not_data_actions": null
              }
            ],
            "role_definition_id": "c331e83d-5122-bf5a-f160-38783fb708ae",
            "role_definition_resource_id": "/subscriptions/76b69a8b-4e03-4cfd-8ee5-fcb614839f69/providers/Microsoft.Authorization/roleDefinitions/c331e83d-5122-bf5a-f160-38783fb708ae",
            "scope": "/subscriptions/76b69a8b-4e03-4cfd-8ee5-fcb614839f69",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "data.azurerm_subscription.primary"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
